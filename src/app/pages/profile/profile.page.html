<ion-header class="ion-no-border">
  <ion-toolbar class="header-toolbar">
    <ion-title>
      <span class="app-title">ðŸŽ§ Perfil de {{ user?.username }}</span>
    </ion-title>
    <div style="display: grid; place-items: center; width: 100%;">
      <ion-buttons>
        <ion-button>
          <span class="app-title" (click)="home()">Reproductor</span>
        </ion-button>
      </ion-buttons>
    </div>
    <ion-buttons slot="end">
      <ion-button (click)="logout()">
        <ion-icon name="log-out-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <div class="profile-container">
    <h2>Mis Canciones</h2>

    <!-- Barra de progreso -->
    <ion-progress-bar *ngIf="isConverting" [value]="progressValue"></ion-progress-bar>

    <!-- Input y botÃ³n para convertir y guardar canciÃ³n -->
    <ion-item>
      <ion-input [(ngModel)]="newSongUrl" placeholder="Ingresa la URL de YouTube"></ion-input>
    </ion-item>
    <ion-button expand="full" (click)="convertSong()">Convertir y Guardar</ion-button>

    <!-- Listado de canciones descargadas -->
    <ion-list>
      <ion-item *ngFor="let song of downloadedSongs">
        <ion-label>
          <h3>{{ song.url }}</h3>
          <p>{{ song.artist }}</p>
        </ion-label>
        <ion-button color="danger" fill="outline" (click)="deleteSong(song)">
          <ion-icon name="trash-outline"></ion-icon>
        </ion-button>
      </ion-item>
    </ion-list>
  </div>
  <ng-template #noSongs>
    <div class="no-songs">
      <p>No tienes canciones descargadas aÃºn.</p>
    </div>
  </ng-template>
</ion-content>

