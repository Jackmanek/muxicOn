"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7651],{7651:(j,c,g)=>{g.r(c),g.d(c,{AuthPageModule:()=>v});var u=g(8834),l=g(4341),a=g(7125),h=g(5528),t=g(9498),m=g(8041),_=g(3656);function f(n,i){if(1&n&&(t.j41(0,"ion-text",13)(1,"p",14),t.EFF(2),t.k0s()()),2&n){const r=t.XpG();t.R7$(2),t.JRh(r.loginError)}}function M(n,i){if(1&n&&(t.j41(0,"ion-text",13)(1,"p",14),t.EFF(2),t.k0s()()),2&n){const r=t.XpG();t.R7$(2),t.JRh(r.registerError)}}function b(n,i){if(1&n){const r=t.RV6();t.j41(0,"div",15)(1,"ion-item",16)(2,"ion-input",17),t.mxI("ngModelChange",function(e){t.eBV(r);const s=t.XpG();return t.DH7(s.loginData.username,e)||(s.loginData.username=e),t.Njj(e)}),t.k0s()(),t.j41(3,"ion-item",16)(4,"ion-input",18),t.mxI("ngModelChange",function(e){t.eBV(r);const s=t.XpG();return t.DH7(s.loginData.password,e)||(s.loginData.password=e),t.Njj(e)}),t.k0s()(),t.j41(5,"ion-button",19),t.bIt("click",function(){t.eBV(r);const e=t.XpG();return t.Njj(e.login())}),t.EFF(6,"Iniciar sesi\xf3n"),t.k0s()()}if(2&n){const r=t.XpG();t.R7$(2),t.R50("ngModel",r.loginData.username),t.R7$(2),t.R50("ngModel",r.loginData.password)}}function x(n,i){if(1&n){const r=t.RV6();t.j41(0,"div",15)(1,"ion-item",16)(2,"ion-input",17),t.mxI("ngModelChange",function(e){t.eBV(r);const s=t.XpG();return t.DH7(s.registerData.username,e)||(s.registerData.username=e),t.Njj(e)}),t.k0s()(),t.j41(3,"ion-item",16)(4,"ion-input",18),t.mxI("ngModelChange",function(e){t.eBV(r);const s=t.XpG();return t.DH7(s.registerData.password,e)||(s.registerData.password=e),t.Njj(e)}),t.k0s()(),t.j41(5,"ion-button",19),t.bIt("click",function(){t.eBV(r);const e=t.XpG();return t.Njj(e.register())}),t.EFF(6,"Registrarse"),t.k0s()()}if(2&n){const r=t.XpG();t.R7$(2),t.R50("ngModel",r.registerData.username),t.R7$(2),t.R50("ngModel",r.registerData.password)}}let p=(()=>{var n;class i{constructor(o,e){this.http=o,this.navCtrl=e,this.authMode="login",this.loginData={username:"",password:""},this.registerData={username:"",password:""},this.apiUrl="http://127.0.0.1:8000/api/",this.loginError=null,this.registerError=null}login(){this.loginError=null,this.http.post(this.apiUrl+"login/",this.loginData).subscribe(o=>{localStorage.setItem("access_token",o.access),this.navCtrl.navigateForward("/profile")},o=>{var e;this.loginError=400===o.status&&null!==(e=o.error)&&void 0!==e&&e.message?o.error.message:"Ocurrio un error inesperado. Intenta mas tarde.",console.error("Error en login",o)})}register(){this.registerError=null,this.http.post(this.apiUrl+"register/",this.registerData,{headers:{"Content-Type":"application/json"}}).subscribe(()=>{alert("Registro exitoso, ahora inicia sesi\xf3n."),this.authMode="login"},o=>{var e;this.registerError=400===o.status&&null!==(e=o.error)&&void 0!==e&&e.errors?Object.values(o.error.errors).join(" "):"Error inesperado al registrar. Intenta de nuevo.",console.error("Error en registro",o)})}}return(n=i).\u0275fac=function(o){return new(o||n)(t.rXU(m.a),t.rXU(_.q9))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-auth"]],decls:21,vars:5,consts:[[1,"auth-bg"],[1,"auth-container"],[1,"title-container"],[1,"app-title"],[1,"app-subtitle"],[1,"auth-card"],[1,"segment-container"],[1,"auth-segment",3,"ngModelChange","ngModel"],["value","login"],["color","danger",4,"ngIf"],["value","register"],[1,"form-container"],["class","auth-form",4,"ngIf"],["color","danger"],[1,"ion-padding-start"],[1,"auth-form"],[1,"auth-input"],["type","text","placeholder","Usuario",3,"ngModelChange","ngModel"],["type","password","placeholder","Contrase\xf1a",3,"ngModelChange","ngModel"],["expand","full",1,"auth-button",3,"click"]],template:function(o,e){1&o&&(t.j41(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"h1",3),t.EFF(4,"MuxicOn"),t.k0s(),t.j41(5,"div",4),t.EFF(6,"Tu m\xfasica, tu estilo"),t.k0s()(),t.j41(7,"div",5)(8,"div",6)(9,"ion-segment",7),t.mxI("ngModelChange",function(d){return t.DH7(e.authMode,d)||(e.authMode=d),d}),t.j41(10,"ion-segment-button",8)(11,"ion-label"),t.EFF(12,"Login"),t.k0s()(),t.DNE(13,f,3,1,"ion-text",9),t.j41(14,"ion-segment-button",10)(15,"ion-label"),t.EFF(16,"Registro"),t.k0s()(),t.DNE(17,M,3,1,"ion-text",9),t.k0s()(),t.j41(18,"div",11),t.DNE(19,b,7,2,"div",12)(20,x,7,2,"div",12),t.k0s()()()()),2&o&&(t.R7$(9),t.R50("ngModel",e.authMode),t.R7$(4),t.Y8G("ngIf",e.loginError),t.R7$(4),t.Y8G("ngIf",e.registerError),t.R7$(2),t.Y8G("ngIf","login"===e.authMode),t.R7$(),t.Y8G("ngIf","register"===e.authMode))},dependencies:[u.D,u.I,a.bv,a.Jm,a.W9,a.$w,a.uz,a.he,a.Gp,a.eP,a.IO,a.Je,a.Gw,l.YN,l.BC,l.vS],styles:[".auth-bg[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #000000, #1a1a1a)}.auth-container[_ngcontent-%COMP%]{padding:2rem;display:flex;flex-direction:column;height:100%;justify-content:center}.title-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.app-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;background:linear-gradient(to right,#a855f7,#22d3ee);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:.5rem}.app-subtitle[_ngcontent-%COMP%]{color:#a3a3a3}.auth-card[_ngcontent-%COMP%]{background:#18181bb3;border-radius:12px;overflow:hidden;box-shadow:0 4px 30px #0000001a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(63,63,70,.5)}.segment-container[_ngcontent-%COMP%]{border-bottom:1px solid rgba(63,63,70,.5)}.auth-segment[_ngcontent-%COMP%]{--background: transparent}ion-segment-button[_ngcontent-%COMP%]{--color: #a3a3a3;--color-checked: #a855f7;--indicator-color: rgba(168, 85, 247, .2)}.form-container[_ngcontent-%COMP%]{padding:1.5rem}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.auth-input[_ngcontent-%COMP%]{--background: rgba(39, 39, 42, .5);--border-color: rgba(63, 63, 70, .5);--border-radius: 8px;--padding-start: 1rem;--padding-end: 1rem;--highlight-color-focused: #a855f7}.auth-button[_ngcontent-%COMP%]{--background: linear-gradient(to right, #9333ea, #06b6d4);--border-radius: 8px;margin-top:1rem;font-weight:500;height:48px}"]}),i})();const P=[{path:"",component:p}];let C=(()=>{var n;class i{}return(n=i).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[h.m.forChild(P),h.m]}),i})(),v=(()=>{var n;class i{}return(n=i).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[u.D,l.YN,a.bv,C,p]}),i})()}}]);